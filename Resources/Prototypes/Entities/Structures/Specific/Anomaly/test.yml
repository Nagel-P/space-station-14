- type: entity
  id: AnomalyInjectionBase
  abstract: true
  components:
  - type: Anomaly
    deleteEntity: false
  - type: PointLight
    radius: 1.3
    energy: 2.5
    castShadows: false

- type: entity
  parent: AnomalyInjectionBase
  id: AnomalyInjectionPyroclastic
  categories: [ HideSpawnMenu ]
  components:
  - type: Anomaly
    corePrototype: AnomalyCorePyroclastic
  - type: PointLight
    color: "#E25822"
  - type: PyroclasticAnomaly
    maximumIgnitionRadius: 3
  - type: TempAffectingAnomaly
    tempChangePerSecond: 10
    hotspotExposeTemperature: 500
  - type: GasProducerAnomaly
    releasedGas: 3
    releaseOnMaxSeverity: true
    spawnRadius: 4
    tileCount: 5
    tempChange: 420
  - type: ProjectileAnomaly
    projectilePrototype: ProjectileAnomalyFireball
    projectileSpeed: 0.5
    minProjectiles: 1
    maxProjectiles: 3

- type: entity
  parent: AnomalyInjectionBase
  id: AnomalyInjectionElectric
  categories: [ HideSpawnMenu ]
  components:
  - type: Anomaly
    corePrototype: AnomalyCoreElectricity
  - type: PointLight
    color: "#ffffaa"
  - type: ElectricityAnomaly
    minBoltCount: 1
    maxBoltCount: 3
    maxElectrocuteRange: 4
    maxElectrocuteDamage: 10
    maxElectrocuteDuration: 4

- type: entity
  parent: AnomalyInjectionBase
  id: AnomalyInjectionShadow
  categories: [ HideSpawnMenu ]
  components:
  - type: Anomaly
    corePrototype: AnomalyCoreShadow
  - type: PointLight
    color: "#793a80"
  - type: EntitySpawnAnomaly
    entries:
    - settings:
        spawnOnPulse: true
        spawnOnSuperCritical: true
        minAmount: 5
        maxAmount: 10
        maxRange: 2
      spawns:
      - ShadowKudzuWeak
    - settings:
        spawnOnSuperCritical: true
        minAmount: 15
        maxAmount: 20
        maxRange: 25
      spawns:
      - ShadowKudzu

- type: entity
  parent: AnomalyInjectionBase
  id: AnomalyInjectionIce
  categories: [ HideSpawnMenu ]
  components:
  - type: Anomaly
    corePrototype: AnomalyCoreIce
  - type: PointLight
    color: "#befaff"
  - type: ExplosionAnomaly
    supercriticalExplosion: Cryo
    explosionTotalIntensity: 150
    explosionDropoff: 2
    explosionMaxTileIntensity: 20
  - type: ProjectileAnomaly
    projectilePrototype: ProjectileIcicle
    minProjectiles: 1
    maxProjectiles: 4
  - type: EntitySpawnAnomaly
    entries:
    - settings:
        spawnOnStabilityChanged: true
        minAmount: 3
        maxAmount: 8
        maxRange: 2
      spawns:
      - IceCrust
  - type: TempAffectingAnomaly
    tempChangePerSecond: -10
    hotspotExposeTemperature: -500
  - type: GasProducerAnomaly
    releasedGas: 8 # Frezon. Please replace if there is a better way to specify this
    releaseOnMaxSeverity: true
    spawnRadius: 0

- type: entity
  parent: AnomalyInjectionBase
  id: AnomalyInjectionFlora
  categories: [ HideSpawnMenu ]
  components:
  - type: Anomaly
    corePrototype: AnomalyCoreFlora
  - type: PointLights
    color: "#6270bb"
  - type: TileSpawnAnomaly
    entries:
    - settings:
        spawnOnPulse: true
        minAmount: 2
        maxAmount: 5
        maxRange: 2
      floor: FloorAstroGrass
    - settings:
        spawnOnSuperCritical: true
        minAmount: 5
        maxAmount: 15
        maxRange: 7
      floor: FloorAstroGrass
    type: EntitySpawnAnomaly
    entries:
    - settings:
        spawnOnPulse: true
        minAmount: 1
        maxAmount: 3
        maxRange: 1
      spawns:
      - KudzuFlowerFriendly
    - settings:
        spawnOnSuperCritical: true
        minAmount: 2
        maxAmount: 6
        maxRange: 3
      spawns:
      - KudzuFlowerAngry

- type: entity
  parent: AnomalyInjectionBase
  id: AnomalyInjectionBluespace
  categories: [ HideSpawnMenu ]
  components:
  - type: Anomaly
    corePrototype: AnomalyCoreBluespace
  - type: PointLight
    color: "#00ccff"
  - type: BluespaceAnomaly

- type: entity
  parent: AnomalyInjectionBase
  id: AnomalyInjectionFlesh
  categories: [ HideSpawnMenu ]
  components:
  - type: Anomaly
    deleteEntity: false
    corePrototype: AnomalyCoreFlesh
  - type: PointLight
    color: "#cb5b7e"
  - type: TileSpawnAnomaly
    entries:
    - settings:
        spawnOnPulse: true
        spawnOnStabilityChanged: true
        minAmount: 1
        maxAmount: 3
        maxRange: 2
      floor: FloorFlesh
    - settings:
        spawnOnSuperCritical: true
        minAmount: 5
        maxAmount: 15
        maxRange: 5
      floor: FloorFlesh
  - type: EntitySpawnAnomaly
    entries:
    - settings:
        spawnOnPulse: true
        minAmount: 1
        maxAmount: 2
        minRange: 1.5
        maxRange: 2.5
      spawns:
      - FleshBlocker
    - settings:
        spawnOnPulse: true
        maxAmount: 1
        minRange: 3
        maxRange: 4.5
      spawns:
      - MobFleshJared
      - MobFleshGolem
      - MobFleshClamp
      - MobFleshLover
    - settings:
        spawnOnSuperCritical: true
        minAmount: 5
        maxAmount: 8
        minRange: 5
        maxRange: 15
      spawns:
      - FleshBlocker
    - settings:
        spawnOnSuperCritical: true
        minAmount: 2
        maxAmount: 5
        maxRange: 8
      spawns:
      - MobFleshJared
      - MobFleshGolem
      - MobFleshClamp
      - MobFleshLover
    - settings:
        spawnOnSuperCritical: true
        minAmount: 2
        maxAmount: 4
        maxRange: 10
      spawns:
      - FleshKudzu
    - settings:
        spawnOnShutdown: true
        maxAmount: 2
        maxRange: 1
      spawns:
      - MobFleshJared
      - MobFleshGolem
      - MobFleshClamp
      - MobFleshLover
      - FleshKudzu